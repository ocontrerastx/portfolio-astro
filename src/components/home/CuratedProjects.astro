---
// src/components/home/CuratedProjects.astro
import { projects } from "../../content/projects";
import ProjectCard from "../projects/ProjectCard.astro";

const featuredProjects = projects.filter(
  (project) => project.featured === true,
);
---

<section class="curated-projects" transition:name="projects-section">
  <div class="page-container">
    <header class="section-header">
      <h2 class="title">Curated Projects</h2>
      <p class="subtitle">A selection of multidisciplinary solutions</p>
    </header>

    <div class="projects-grid">
      {featuredProjects.map((project) => <ProjectCard project={project} />)}
    </div>

    <div class="projects-actions">
      <a href="/projects" class="cta-link primary"> View All Projects </a>
    </div>
  </div>
</section>

<style>
  .projects-grid {
    display: grid !important;
    grid-template-columns: 1fr;
    gap: 3rem;
  }

  .curated-projects {
    padding: 6rem 0;
  }
  .section-header {
    margin-bottom: 4rem;
  }
  .projects-actions {
    margin-top: 4rem;
    display: flex;
    justify-content: center; /* Centers the action button */
  }

  @media (min-width: 768px) {
    .projects-grid {
      /* Re-assert 2 columns with !important if the transition is stripping styles */
      grid-template-columns: repeat(2, 1fr) !important;
      row-gap: 3.5rem;
    }
  }
</style>
